
### **摘要**

一个相机和一个低成本惯性测量单元（IMU）组成了一个单目视觉-惯性系统（VINS），它是进行度量六自由度（DOF）状态估计的最小传感器套件（在体积、重量和功耗方面）。本文提出了**VINS-Mono**：一种鲁棒且多功能的单目视觉-惯性状态估计器。我们的方法从一个鲁棒的估计器初始化过程开始。通过融合预积分的IMU测量值和特征观测，采用紧耦合的非线性优化方法来获取高精度的视觉-惯性里程计。结合我们的紧耦合公式，循环检测模块使得重定位过程在计算上具有最小开销。我们进一步执行4自由度（DOF）位姿图优化，以确保全局一致性。此外，所提系统能够通过高效的保存与加载方式复用地图。当前地图和先前的地图可以通过全局位姿图优化进行合并。我们在公开数据集和真实世界实验中验证了系统性能，并与其他先进算法进行了比较。我们还在微型无人机平台上进行了机载闭环自主飞行，并将该算法移植到基于iOS的演示平台。我们强调，所提工作是一个可靠、完整且多功能的系统，适用于需要高精度定位的各种应用场景。我们开源了该实现，支持PC（[https://github.com/HKUST-Aerial-Robotics/VINSMono）和iOS移动设备（https://github.com/HKUST-Aerial-Robotics/VINS-Mobile）。](https://github.com/HKUST-Aerial-Robotics/VINSMono%EF%BC%89%E5%92%8CiOS%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%EF%BC%88https://github.com/HKUST-Aerial-Robotics/VINS-Mobile%EF%BC%89%E3%80%82)

**关键词**—单目视觉-惯性系统（VINS），状态估计，传感器融合，同时定位与建图。



### **1. 引言**

**状态估计**无疑是广泛应用中的最基本模块，涉及到机器人导航、自动驾驶、虚拟现实和增强现实（AR）等领域。仅使用单目相机的方案因其体积小、成本低且硬件设置简单，近年来在该领域受到了极大关注[1]–[5]。然而，单目视觉系统无法恢复度量尺度，因此限制了其在现实世界机器人应用中的使用。

近年来，我们看到一种趋势是通过低成本的惯性测量单元（IMU）辅助单目视觉系统。单目视觉-惯性系统（VINS）的主要优势在于可以观测到度量尺度，以及滚转角和俯仰角度。这使得需要度量状态估计的导航任务成为可能。此外，IMU测量值的融合可以显著提高运动跟踪性能，弥补由于光照变化、无纹理区域或运动模糊造成的视觉轨迹丢失问题。

单目VINS不仅在地面机器人和无人机上得到广泛应用，而且也能够在移动设备上实现。它在自我感知和环境感知方面具有尺寸、重量和功耗方面的显著优势。

然而，单目视觉-惯性系统（VINS）的使用存在若干问题。第一个问题是**严格的初始化**。由于缺乏直接的距离测量，单目视觉结构与惯性测量的直接融合变得非常困难。与此同时，考虑到VINS本身高度非线性，我们在估计器初始化方面面临着显著的挑战。在大多数情况下，系统必须从已知的静止位置启动，并在初期缓慢而小心地移动，这限制了其在实际中的应用。另一个问题是，**视觉-惯性里程计（VIO）**在长时间运行中的**漂移**问题是不可避免的。为了消除这种漂移，必须开发**循环检测、重定位和全局优化**方法。除了这些关键问题外，对地图保存与复用的需求也在不断增长。

为了解决所有这些问题，我们提出了**VINS-Mono**，一种鲁棒且多功能的单目视觉-惯性状态估计器，它是我们三项先前工作的结合与扩展[6]–[8]。VINS-Mono具有以下特点：

1. **鲁棒的初始化流程**：能够从未知的初始状态自举启动系统；
    
2. **紧耦合、基于优化的单目视觉-惯性里程计（VIO）**，包括**相机–IMU外参自标定**和**IMU偏置修正**；
    
3. **在线重定位**与**四自由度（DOF）全局位姿图优化**；
    
4. **位姿图复用功能**：能够保存、加载并融合多个局部位姿图。

在这些特性中，**鲁棒初始化**、**重定位**和**位姿图复用**是我们的技术贡献，来源于我们之前的工作[6]–[8]。工程贡献包括**开源系统集成**、**无人机导航的实时演示**和**移动应用**。整个系统已成功应用于小规模增强现实（AR）场景、中等规模的无人机导航和大规模的状态估计任务，如图1所示。

| [[2a0de42996e2ed3e5e4cb342c1062655_MD5.jpeg|Open: Pasted image 20250428095321.png]]
![[2a0de42996e2ed3e5e4cb342c1062655_MD5.jpeg]]
**图1. 所提出单目视觉-惯性状态估计算法的室外实验结果。**  
数据由手持单目相机-IMU装置在正常步行条件下采集。实验轨迹包括场地内的两圈完整圆形路径以及邻近车道上的两个半圆形路径，总轨迹长度为2.5公里。实验视频可在多媒体附件中查看。  
(a) 轨迹（蓝色）与特征点位置（红色）；  
(b) 轨迹叠加在Google地图上，便于视觉对比。




本文其余部分结构如下：  
第二节讨论相关文献；  
第三节概述完整系统流程；  
第四节介绍视觉与预积分 IMU 测量的预处理步骤；  
第五节阐述估计器的初始化过程；  
第六节提出一种紧耦合、自校正、基于非线性优化的单目视觉惯性里程计；  
第七节介绍紧耦合重定位方法；  
第八节讨论全局位姿图的优化与复用；  
第九节展示实验结果；  
第十节总结全文，并对可能的未来研究方向进行探讨。


### 2. 相关工作  

基于单目视觉的状态估计、里程计和SLAM的学术研究非常丰富。具有代表性的方法包括PTAM[1]、SVO[2]、LSD-SLAM[3]、DSO[5]和ORB-SLAM[4]。显然，任何试图对相关文献进行全面综述的努力都难以做到完全。在本节中，我们将跳过仅基于视觉的方法的讨论，仅关注与单目视觉-惯性状态估计最相关的研究成果。

处理视觉和惯性测量数据最简单的方法是松耦合传感器融合[9][10]，其中IMU被视为一个独立模块，用于辅助视觉结构。融合通常通过扩展卡尔曼滤波器（EKF）实现，IMU用于状态传播，纯视觉的位姿用于更新。进一步地，紧耦合的视觉-惯性算法则基于EKF[11]–[13]或图优化[14]–[19]，在原始测量层面对相机和IMU数据进行联合优化。一种流行的基于EKF的VIO方法是MSCKF[11][12]。MSCKF在状态向量中维护若干历史相机位姿，并利用同一特征在多帧相机视图中的观测，形成多约束更新。SR-ISWF[20][21]是MSCKF的扩展，它采用平方根形式[14]以实现单精度表示并避免数值不良特性。该方法采用逆滤波器进行迭代线性化，使其等价于基于优化的算法。批量图优化或束调整技术则维护并优化所有测量数据，以获得最优状态估计。为实现恒定的处理时间，基于图的VIO方法[15][17][18]通常通过边缘化历史状态和测量，仅在有限大小的滑动窗口内优化最近的状态。由于非线性系统迭代求解的高计算需求，只有少数基于图的方法能够在资源受限的平台（如手机）上实现实时性能。

对于视觉测量的处理，相关算法可根据残差模型的定义分为**直接法**和**间接法**。直接法[2]、[3]、[22]通过最小化光度误差进行优化，而间接法[12]、[15]、[17]则最小化几何位移。由于收敛域较小，直接法通常需要较好的初始值；而间接法则需要额外的计算资源用于特征提取与匹配。由于其成熟性和鲁棒性，间接法在实际工程应用中更为常见。然而，直接法由于直接在像素级别操作，更易于扩展到稠密建图任务。

IMU通常以远高于相机的频率采集数据。针对高频IMU测量，不同方法被提出以加以处理。最直接的方法是在基于扩展卡尔曼滤波（EKF）的方法中使用IMU进行状态传播[9]、[11]。在图优化框架下，为了避免重复进行IMU积分，提出了一种高效的技术——IMU预积分（preintegration）。该技术最早由文献[23]提出，通过欧拉角对旋转误差进行参数化。Shen等人[16]基于连续时间的误差状态动力学推导了协方差传播方法。随后，文献[19]和[24]通过引入事后IMU偏置修正，进一步完善了预积分理论。

准确的初始值对于启动任何单目VINS系统至关重要。文献[17]和[25]提出了一种线性估计算法初始化方法，该方法利用短时IMU预积分获得的相对旋转信息。然而，该方法未能在原始投影方程中建模陀螺仪偏置和图像噪声。文献[26]提出了单目视觉-惯性初始化问题的封闭解法，随后文献[27]在此基础上引入了陀螺仪偏置标定以进行扩展。这些方法由于依赖于对IMU测量值进行长时间双重积分，未能有效建模惯性积分过程中的不确定性。文献[28]提出了一种基于SVO[2]的重新初始化与故障恢复算法，但需要额外的下视距离传感器以恢复度量尺度。文献[18]基于流行的ORB-SLAM[4]提出了一种初始化算法，据报道其尺度收敛所需时间可能超过10秒，这对于需要在起始阶段立即获得尺度估计的机器人导航任务来说，可能会带来问题。





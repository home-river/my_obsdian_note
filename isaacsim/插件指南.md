# snippets（代码片段）
提供了用于开发 Isaac Sim 项目的代码片段（Snippets）。你可以通过简单的快捷键插入常用代码，避免重复书写。

- **Core (api)**: 提供 Isaac Sim 核心 API 的代码片段。
    
- **Core (prims)**: 提供与 USD Prim 相关的代码片段，适用于场景编辑。
    
- **Core (utils)**: 提供常用工具方法的代码片段。
    
- **SimulationApp**: 提供与仿真应用相关的代码片段，方便快速集成应用。
    
- **UI (utils)**: 提供与用户界面相关的工具代码片段。

## Core（api）
### Articulations（关节）
#### ArticulationGripper（抓手部分）
```python
from isaacsim.core.api.articulations import ArticulationGripper
```
**导入类定义**  
从 Isaac Sim 的核心 API 中载入 `ArticulationGripper` 类，以便后面创建抓手对象并调用其方法。

```python
articulation_gripper = ArticulationGripper(gripper_dof_names=gripper_dof_names)
```
**实例化抓手对象**

- `gripper_dof_names`：一个字符串列表，每个元素对应抓手中一个自由度（Degree of Freedom，DOF）的名称，比如左右两个指爪的关节名。
    
- 这行代码创建了 `ArticulationGripper` 的实例 `articulation_gripper`，内部会存储这些 DOF 名称，以及后续用于控制它们的索引、目标位置等信息。

```python
articulation_gripper.apply_action(action=action)
```
**应用控制指令**

- `action`：通常是一个数值数组或张量，表示对每个 DOF 发出的控制信号（比如目标位置、力矩或速度命令）。
    
- `apply_action()` 方法会将这些信号转发给底层的物理仿真控制器，让抓手朝指定目标运动。

```python
closed_position = articulation_gripper.closed_position
```

**获取“闭合”位置常量**

- `closed_position` 通常是一个数值（或数组），表示抓手完全闭合时的标准关节角度／位置。
    
- 从实例属性中读取，方便后续在决策逻辑里与当前关节位置比较，或者用作动作命令的上界。


```python
dof_indices = articulation_gripper.dof_indices
```

**获取 DOF 索引列表**

- `dof_indices` 是一个整数列表，对应 `gripper_dof_names` 在 USD Stage（场景）或物理引擎中分配到的具体 DOF 索引。
    
- 拿到索引后，可以通过底层 API 直接按索引访问或修改关节状态。



```python
positions = articulation_gripper.get_positions()
```
**读取当前关节位置**

- `get_positions()` 方法返回当前时刻所有 DOF 的实际位置（关节角度或伸缩量），通常以数组形式给出。
    
- 可用于监控、日志记录，或者在需要“恢复”到某个姿态时做状态保存。



```python
velocities = articulation_gripper.get_velocities()
```
**读取当前关节速度**

- `get_velocities()` 方法返回当前所有 DOF 的速度值，同样以数组形式返回。
    
- 对“惯性补偿”或控制器调优（比如PD控制）非常有用。



```python
articulation_gripper.initialize(root_prim_path=root_prim_path,
                             articulation_controller=articulation_controller)
```
**初始化抓手对象**

- `root_prim_path`：USD Stage 中该抓手对应的根 Prim（关节体系根节点）的路径字符串，例如 `"/World/robot/gripper"`.
    
- `articulation_controller`：一个控制器实例（通常由更高级的控制框架提供），负责在仿真循环中下发控制命令、收集状态。
    
- `initialize()` 会将 `ArticulationGripper` 与 USD 场景和物理控制器关联起来，建立从高层 API 到底层仿真引擎的映射。



```python
open_position = articulation_gripper.open_position
```
**获取“张开”位置常量**

- `open_position` 与 `closed_position` 类似，表示抓手完全张开时各 DOF 的位置。
    
- 可用作动作指令下界，或者在策略里快速切换到“空”状态。


```python
articulation_gripper.set_positions(positions=positions)
```
**批量设置关节位置**

- 将之前通过 `get_positions()` 读取并保存在 `positions` 里的数值，再次写回到仿真中。
    
- 常用于场景重置、从检查点恢复状态，或在非控制回路（直接状态设定）中瞬时“跳转”到某个姿态。


```python
articulation_gripper.set_velocities(velocities=velocities)
```

**批量设置关节速度**

- 与 `set_positions()` 同理，将之前保存的速度值恢复到当前仿真状态。
    
- 对于需要保持连续运动或准确模拟惯性场景（比如录制回放、碰撞检测测试）非常有帮助。